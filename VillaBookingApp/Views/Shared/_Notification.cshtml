@using System.Text.Encodings.Web

<link rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.css"
      integrity="sha512-3pIirOrwegjM6erE5gPSwkUzO+3cTjpnV9lexlNZqvupR64iZBnOOTiiLPb9M36zpMScbmUNIcHUqKD47M719g=="
      crossorigin="anonymous" referrerpolicy="no-referrer" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
        integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"
        integrity="sha512-VEd+nq25CkR676O+pLBnDW09R7VQX9Mdiij052gVCp5yVH3jGtH70Ho/UUv4mJDsEdTvqRCFZg0NKGiojGnUCw=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script>
    (function () {
        function showToasts() {
            if (typeof toastr === 'undefined') return;

            toastr.options = {
                closeButton: true,
                progressBar: true,
                positionClass: 'toast-top-right',
                timeOut: '5000'
            };

            @if (TempData["success"] is string success)
            {
                <text>toastr.success('@JavaScriptEncoder.Default.Encode(success)');</text>
            }
            @if (TempData["error"] is string error)
            {
                <text>toastr.error('@JavaScriptEncoder.Default.Encode(error)');</text>
            }
            @if (TempData["info"] is string info)
            {
                <text>toastr.info('@JavaScriptEncoder.Default.Encode(info)');</text>
            }
            @if (TempData["warning"] is string warning)
            {
                <text>toastr.warning('@JavaScriptEncoder.Default.Encode(warning)');</text>
            }
        }

        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', showToasts);
        } else {
            showToasts();
        }
    })();
</script>
